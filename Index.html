<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Remember Sequence</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <h1 class="text-muted text-center fw-lighter">Remember The Sequence</h1>
    <hr />
    <br />

    <div
      id="bubble1"
      style="
        display: none;
        height: 150px;
        width: 150px;
        border-radius: 30px;
        margin-left: 260px;
        float: left;
        background-color: rgb(115, 170, 144);
      "
    >
      <div
        style="
          height: 110px;
          width: 110px;
          border-radius: 20px;
          margin: 15px 0px 0px 20px;
          background-color: rgb(113, 175, 146);
        "
      >
        <p id="cube1" style="font-size: 90px; text-align: center"></p>
      </div>
    </div>
    <div
      id="bubble2"
      style="
        display: none;
        height: 150px;
        width: 150px;
        border-radius: 30px;
        float: left;
        margin-left: 100px;
        background-color: rgb(129, 167, 98);
      "
    >
      <div
        style="
          height: 110px;
          width: 110px;
          border-radius: 20px;
          margin: 15px 0px 0px 20px;
          background-color: rgb(141, 175, 113);
        "
      >
        <p id="cube2" style="font-size: 90px; text-align: center"></p>
      </div>
    </div>
    <div
      id="bubble3"
      style="
        display: none;
        height: 150px;
        width: 150px;
        border-radius: 30px;
        float: left;
        margin-left: 100px;
        background-color: rgb(100, 168, 170);
      "
    >
      <div
        style="
          height: 110px;
          width: 110px;
          border-radius: 20px;
          margin: 15px 0px 0px 20px;
          background-color: rgb(76, 177, 180);
        "
      >
        <p id="cube3" style="font-size: 90px; text-align: center"></p>
      </div>
    </div>
    <div
      id="bubble4"
      style="
        display: none;
        height: 150px;
        width: 150px;
        border-radius: 30px;
        float: left;
        margin-left: 100px;
        margin-right: 150px;
        background-color: rgb(91, 133, 173);
      "
    >
      <div
        style="
          height: 110px;
          width: 110px;
          border-radius: 20px;
          margin: 15px 0px 0px 20px;
          background-color: rgb(113, 145, 175);
        "
      >
        <p id="cube4" style="font-size: 90px; text-align: center"></p>
      </div>
    </div>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <hr />
    <div style="margin: auto; width: 50%; margin-right: 160px">
      <button id="BtnStart" class="btn btn-group-sm btn-outline-dark col-6">
        Start Game
      </button>
      <button onClick="window.location.reload();" id="BtnRestart" class="btn btn-group-sm btn-outline-dark col-6"
      style="visibility:hidden;" >
        Restart
      </button>
    </div>
    <hr />
    <div
      class="btn-toolbar mb-3 justify-content-center align-content-center"
      role="toolbar"
      aria-label="Toolbar with button groups"
    >
      <div
        class="btn-group me-2 align-center"
        role="group"
        aria-label="First group"
      >
        <button
          onclick="choose(0)"
          type="button"
          class="btn btn-outline-secondary"
        >
          A
        </button>
        <button
          onclick="choose(1)"
          type="button"
          class="btn btn-outline-secondary"
        >
          B
        </button>
        <button
          onclick="choose(2)"
          type="button"
          class="btn btn-outline-secondary"
        >
          C
        </button>
        <button
          onclick="choose(3)"
          type="button"
          class="btn btn-outline-secondary"
        >
          D
        </button>
        <button
          onclick="choose(4)"
          type="button"
          class="btn btn-outline-secondary"
        >
          E
        </button>
        <button
          onclick="choose(5)"
          type="button"
          class="btn btn-outline-secondary"
        >
          F
        </button>
        <button
          onclick="choose(6)"
          type="button"
          class="btn btn-outline-secondary"
        >
          G
        </button>
        <button
          onclick="choose(7)"
          type="button"
          class="btn btn-outline-secondary"
        >
          H
        </button>
        <button
          onclick="choose(8)"
          type="button"
          class="btn btn-outline-secondary"
        >
          I
        </button>
        <button
          onclick="choose(9)"
          type="button"
          class="btn btn-outline-secondary"
        >
          J
        </button>
        <button
          onclick="choose(10)"
          type="button"
          class="btn btn-outline-secondary"
        >
          K
        </button>
        <button
          onclick="choose(11)"
          type="button"
          class="btn btn-outline-secondary"
        >
          L
        </button>
        <button
          onclick="choose(12)"
          type="button"
          class="btn btn-outline-secondary"
        >
          M
        </button>
        <button
          onclick="choose(13)"
          type="button"
          class="btn btn-outline-secondary"
        >
          N
        </button>
        <button
          onclick="choose(14)"
          type="button"
          class="btn btn-outline-secondary"
        >
          O
        </button>
        <button
          onclick="choose(15)"
          type="button"
          class="btn btn-outline-secondary"
        >
          P
        </button>
      </div>
    </div>

    <div
      class="btn-toolbar justify-content-center align-content-center"
      role="toolbar"
      aria-label="Toolbar with button groups"
    >
      <div class="btn-group" role="group" aria-label="First group">
        <button
          onclick="choose(16)"
          type="button"
          class="btn btn-outline-secondary"
        >
          Q
        </button>
        <button
          onclick="choose(17)"
          type="button"
          class="btn btn-outline-secondary"
        >
          R
        </button>
        <button
          onclick="choose(18)"
          type="button"
          class="btn btn-outline-secondary"
        >
          S
        </button>
        <button
          onclick="choose(19)"
          type="button"
          class="btn btn-outline-secondary"
        >
          T
        </button>
        <button
          onclick="choose(20)"
          type="button"
          class="btn btn-outline-secondary"
        >
          U
        </button>
        <button
          onclick="choose(21)"
          type="button"
          class="btn btn-outline-secondary"
        >
          V
        </button>
        <button
          onclick="choose(22)"
          type="button"
          class="btn btn-outline-secondary"
        >
          W
        </button>
        <button
          onclick="choose(23)"
          type="button"
          class="btn btn-outline-secondary"
        >
          X
        </button>
        <button
          onclick="choose(24)"
          type="button"
          class="btn btn-outline-secondary"
        >
          Y
        </button>
        <button
          onclick="choose(25)"
          type="button"
          class="btn btn-outline-secondary"
        >
          Z
        </button>
      </div>
    </div>
    <div style="margin-top: 50px">
      <p
        id="player_input"
        style="
          text-align: center;
          font-size: 100px;
          font-weight: 500;
          font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial,
            sans-serif;
        "
      ></p>
      <p id="answer" style="font-size: 90px;text-align: center;
      font-weight: 400;font-style: italic;color: rgba(26, 119, 206, 0.342);"></p>
    </div>
  
    
    <!-- --------------------------------Java Script--------------------------------------- -->
    <script>
      var arr = [
        "A",
        "B",
        "C",
        "D",
        "E",
        "F",
        "G",
        "H",
        "I",
        "J",
        "K",
        "L",
        "M",
        "N",
        "O",
        "P",
        "Q",
        "R",
        "S",
        "T",
        "U",
        "V",
        "W",
        "X",
        "Y",
        "Z",
      ];
      var computerGenerated
      var str = "";
      var strOut = ""
      var arry = new Array()
      var index = 0
      const start = document.getElementById("BtnStart");
      start.addEventListener("click", function () {
          setTimeout(alpha1, 100);
          setTimeout(alpha2, 500);
          setTimeout(alpha3, 900);
          setTimeout(alpha4, 1300);
          setTimeout(hide,1500);
          setTimeout(disable,1500);

        });
        function disable(){
          document.getElementById("BtnStart").disabled = true;
          var reset = document.getElementById("BtnRestart");
          reset.style.visibility = "visible";
        }
      
        function hide(){
          var div1 = document.getElementById("bubble1");
          div1.style.display = "none";
          var div2 = document.getElementById("bubble2");
          div2.style.display = "none";
          var div3 = document.getElementById("bubble3");
          div3.style.display = "none";
          var div4 = document.getElementById("bubble4");
          div4.style.display = "none";
        }
//------------------------------------------computer generated outputs-----------------------------
//-------------------------------------------------------------------------------------------------
      function alpha1() {
        fetch("/play")
          .then((response) => response.json())
          .then((data) => {
            var div1 = document.getElementById("bubble1");
            if (div1.style.display == "none") {
              div1.style.display = "block";
            } else {
              div1.style.display = "none";
            }
            arry[index] = arr[parseInt(data.rnd)];
            index++
            document.getElementById("cube1").innerHTML =
              arr[parseInt(data.rnd)];
          });
      }
      function alpha2() {
        fetch("/play")
          .then((response) => response.json())
          .then((data) => {
            var div2 = document.getElementById("bubble2");
            if (div2.style.display == "none") {
              div2.style.display = "block";
            } else {
              div2.style.display = "none";
            }
            arry[index] = arr[parseInt(data.rnd)];
            index++
            document.getElementById("cube2").innerHTML =
              arr[parseInt(data.rnd)];
          });
      }
      function alpha3() {
        fetch("/play")
          .then((response) => response.json())
          .then((data) => {
            var div3 = document.getElementById("bubble3");
            if (div3.style.display == "none") {
              div3.style.display = "block";
            } else {
              div3.style.display = "none";
            }
            arry[index] = arr[parseInt(data.rnd)];
            index++
            document.getElementById("cube3").innerHTML =
              arr[parseInt(data.rnd)];
          });
      }
      function alpha4() {
        fetch("/play")
          .then((response) => response.json())
          .then((data) => {
            var div4 = document.getElementById("bubble4");
            if (div4.style.display == "none") {
              div4.style.display = "block";
            } else {
              div4.style.display = "none";
            }
            arry[index] = arr[parseInt(data.rnd)];
            index++
            document.getElementById("cube4").innerHTML =
              arr[parseInt(data.rnd)];
          });
      }
      console.log(arry);


//-----------------------------------------user input----------------------------------------------
//-------------------------------------------------------------------------------------------------

      function choose(x) {
        if (str.length <= 3) {
          for (let i = 0; i < arr.length; i++) {
            if (x == i) {
              str += arr[i];
              break;
              
            }
          }
        document.getElementById("player_input").innerHTML = str;
         computerGenerated=convert(arry)
        console.log(computerGenerated)
        // document.getElementById("player_input").innerHTML = computerGenerated;
        }
        if(str.length >= 3){
          setTimeout(comparison,2500);
        }
      }
    function comparison(){
      
        if(computerGenerated == str){
          document.getElementById("answer").innerHTML = "You Won";
        }else{
          document.getElementById("answer").innerHTML = "You Loose";
        }
         
    }

    function convert(arr){
      var temp="";
      for (i=0;i<arr.length;i++){
          temp+=arr[i]
      }
      return temp
    }
    </script>
  </body>
</html>
